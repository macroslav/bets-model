from collections import OrderedDict


results = OrderedDict([('germany super-cup', {'roi': 112.00000000000001, 'amount': 1, 'percent': 100.0, 'coef': 2.12, 'win_bets': 1}), ('italy coppa-italia-serie-c', {'roi': 75.01850000000002, 'amount': 29, 'percent': 34.5, 'coef': 5.073, 'win_bets': 10}), ('spain copa-federacion', {'roi': 55.74650000000001, 'amount': 22, 'percent': 27.3, 'coef': 5.705, 'win_bets': 6}), ('france national', {'roi': 17.1748, 'amount': 46, 'percent': 45.7, 'coef': 2.564, 'win_bets': 21}), ('spain laliga', {'roi': 12.7664, 'amount': 331, 'percent': 36.9, 'coef': 3.056, 'win_bets': 122}), ('germany dfb-pokal', {'roi': 9.939999999999994, 'amount': 75, 'percent': 20.0, 'coef': 5.497, 'win_bets': 15}), ('germany 3-liga', {'roi': 3.7951999999999986, 'amount': 169, 'percent': 27.2, 'coef': 3.816, 'win_bets': 46}), ('england championship', {'roi': 2.394800000000008, 'amount': 351, 'percent': 34.2, 'coef': 2.994, 'win_bets': 120}), ('england fa-cup', {'roi': 2.215200000000017, 'amount': 194, 'percent': 26.8, 'coef': 3.814, 'win_bets': 52}), ('italy serie-b', {'roi': -0.2917999999999976, 'amount': 191, 'percent': 36.1, 'coef': 2.762, 'win_bets': 69}), ('england fa-trophy', {'roi': -0.5175999999999958, 'amount': 65, 'percent': 36.9, 'coef': 2.696, 'win_bets': 24}), ('italy coppa-italia', {'roi': -1.1249999999999982, 'amount': 44, 'percent': 25.0, 'coef': 3.955, 'win_bets': 11}), ('germany 2-bundesliga', {'roi': -2.4487000000000037, 'amount': 251, 'percent': 28.7, 'coef': 3.399, 'win_bets': 72}), ('spain laliga2', {'roi': -5.421200000000004, 'amount': 250, 'percent': 31.6, 'coef': 2.993, 'win_bets': 79}), ('england league-one', {'roi': -5.917600000000012, 'amount': 308, 'percent': 29.2, 'coef': 3.222, 'win_bets': 90}), ('italy serie-a', {'roi': -7.609000000000011, 'amount': 355, 'percent': 29.9, 'coef': 3.09, 'win_bets': 106}), ('england national-league-n/s', {'roi': -9.4796, 'amount': 196, 'percent': 38.8, 'coef': 2.333, 'win_bets': 76}), ('italy serie-c', {'roi': -9.666399999999985, 'amount': 329, 'percent': 28.3, 'coef': 3.192, 'win_bets': 93}), ('france ligue-1', {'roi': -10.535000000000005, 'amount': 338, 'percent': 29.0, 'coef': 3.085, 'win_bets': 98}), ('england national-league', {'roi': -10.675600000000006, 'amount': 277, 'percent': 30.3, 'coef': 2.948, 'win_bets': 84}), ('england league-two', {'roi': -11.655100000000008, 'amount': 228, 'percent': 33.3, 'coef': 2.653, 'win_bets': 76}), ('england efl-trophy', {'roi': -12.635799999999996, 'amount': 88, 'percent': 34.1, 'coef': 2.562, 'win_bets': 30}), ('spain primera-rfef', {'roi': -12.954200000000004, 'amount': 238, 'percent': 29.8, 'coef': 2.921, 'win_bets': 71}), ('germany bundesliga', {'roi': -14.663099999999996, 'amount': 281, 'percent': 25.3, 'coef': 3.373, 'win_bets': 71}), ('england premier-league', {'roi': -15.238400000000007, 'amount': 372, 'percent': 30.1, 'coef': 2.816, 'win_bets': 112}), ('england efl-cup', {'roi': -17.294999999999995, 'amount': 79, 'percent': 27.8, 'coef': 2.975, 'win_bets': 22}), ('france ligue-2', {'roi': -20.990399999999998, 'amount': 168, 'percent': 30.4, 'coef': 2.599, 'win_bets': 51}), ('spain super-cup', {'roi': -56.00000000000001, 'amount': 4, 'percent': 25.0, 'coef': 1.76, 'win_bets': 1}), ('france super-cup', {'roi': -100.0, 'amount': 1, 'percent': 0.0, 'coef': 0.0, 'win_bets': 0}), ('england fa-community-shield', {'roi': -100.0, 'amount': 1, 'percent': 0.0, 'coef': 0.0, 'win_bets': 0}), ('italy super-cup', {'roi': -100.0, 'amount': 1, 'percent': 0.0, 'coef': 0.0, 'win_bets': 0}), ('italy super-cup-serie-c', {'roi': -100.0, 'amount': 1, 'percent': 0.0, 'coef': 0.0, 'win_bets': 0})])

old_results = OrderedDict([('france coupe-de-la-ligue', {'roi': 87.57760000000002, 'amount': 33, 'percent': 42.4, 'coef': 4.424, 'win_bets': 14}), ('germany super-cup', {'roi': 35.86399999999998, 'amount': 3, 'percent': 33.3, 'coef': 4.08, 'win_bets': 1}), ('italy super-cup', {'roi': 33.400000000000006, 'amount': 3, 'percent': 66.7, 'coef': 2.0, 'win_bets': 2}), ('italy super-cup-serie-c', {'roi': 12.220999999999993, 'amount': 3, 'percent': 33.3, 'coef': 3.37, 'win_bets': 1}), ('france ligue-2', {'roi': 7.474399999999992, 'amount': 477, 'percent': 35.4, 'coef': 3.036, 'win_bets': 169}), ('spain laliga', {'roi': 6.992899999999991, 'amount': 963, 'percent': 33.3, 'coef': 3.213, 'win_bets': 321}), ('germany 2-bundesliga', {'roi': 4.590200000000011, 'amount': 688, 'percent': 31.8, 'coef': 3.289, 'win_bets': 219}), ('germany bundesliga', {'roi': 3.3800000000000052, 'amount': 780, 'percent': 30.0, 'coef': 3.446, 'win_bets': 234}), ('germany 3-liga', {'roi': 2.937499999999993, 'amount': 639, 'percent': 30.5, 'coef': 3.375, 'win_bets': 195}), ('england national-league', {'roi': 0.11990000000001722, 'amount': 795, 'percent': 32.1, 'coef': 3.119, 'win_bets': 255}), ('england premier-league', {'roi': -0.5759999999999876, 'amount': 1048, 'percent': 32.0, 'coef': 3.107, 'win_bets': 335}), ('england efl-trophy', {'roi': -1.6407999999999978, 'amount': 196, 'percent': 34.2, 'coef': 2.876, 'win_bets': 67}), ('england league-two', {'roi': -1.8151999999999946, 'amount': 860, 'percent': 35.6, 'coef': 2.758, 'win_bets': 306}), ('spain laliga2', {'roi': -2.5029999999999997, 'amount': 717, 'percent': 31.4, 'coef': 3.105, 'win_bets': 225}), ('france ligue-1', {'roi': -4.060000000000019, 'amount': 821, 'percent': 32.8, 'coef': 2.925, 'win_bets': 269}), ('france coupe-de-france', {'roi': -4.223800000000011, 'amount': 214, 'percent': 23.4, 'coef': 4.093, 'win_bets': 50}), ('italy serie-a', {'roi': -4.336300000000004, 'amount': 1028, 'percent': 29.7, 'coef': 3.221, 'win_bets': 305}), ('england fa-trophy', {'roi': -4.5212000000000145, 'amount': 192, 'percent': 32.3, 'coef': 2.956, 'win_bets': 62}), ('italy coppa-italia-serie-c', {'roi': -4.643200000000003, 'amount': 73, 'percent': 30.1, 'coef': 3.168, 'win_bets': 22}), ('spain super-cup', {'roi': -4.761999999999988, 'amount': 7, 'percent': 28.6, 'coef': 3.33, 'win_bets': 2}), ('england national-league-n/s', {'roi': -4.816799999999999, 'amount': 569, 'percent': 32.2, 'coef': 2.956, 'win_bets': 183}), ('france national', {'roi': -5.6595999999999975, 'amount': 299, 'percent': 30.8, 'coef': 3.063, 'win_bets': 92}), ('england league-one', {'roi': -6.079200000000018, 'amount': 970, 'percent': 33.4, 'coef': 2.812, 'win_bets': 324}), ('england championship', {'roi': -6.179199999999996, 'amount': 1129, 'percent': 34.8, 'coef': 2.696, 'win_bets': 393}), ('germany dfb-pokal', {'roi': -6.279999999999997, 'amount': 239, 'percent': 21.3, 'coef': 4.4, 'win_bets': 51}), ('spain copa-del-rey', {'roi': -8.6094, 'amount': 300, 'percent': 20.3, 'coef': 4.502, 'win_bets': 61}), ('italy serie-b', {'roi': -9.7348, 'amount': 458, 'percent': 32.1, 'coef': 2.812, 'win_bets': 147}), ('spain primera-rfef', {'roi': -12.946600000000007, 'amount': 1792, 'percent': 28.2, 'coef': 3.087, 'win_bets': 506}), ('italy serie-c', {'roi': -15.169600000000006, 'amount': 990, 'percent': 27.4, 'coef': 3.096, 'win_bets': 271}), ('england fa-cup', {'roi': -15.895000000000003, 'amount': 612, 'percent': 22.5, 'coef': 3.738, 'win_bets': 138}), ('england efl-cup', {'roi': -16.050399999999996, 'amount': 268, 'percent': 22.8, 'coef': 3.682, 'win_bets': 61}), ('spain copa-federacion', {'roi': -21.647800000000007, 'amount': 69, 'percent': 26.1, 'coef': 3.002, 'win_bets': 18}), ('italy coppa-italia', {'roi': -31.76760000000001, 'amount': 267, 'percent': 17.2, 'coef': 3.967, 'win_bets': 46}), ('england fa-community-shield', {'roi': -34.732000000000006, 'amount': 3, 'percent': 33.3, 'coef': 1.96, 'win_bets': 1}), ('france super-cup', {'roi': -100.0, 'amount': 3, 'percent': 0.0, 'coef': 0.0, 'win_bets': 0})])

sum_coef = 0
sum_win_bets = 0
sum_accepted_bets = 0
for key, result in old_results.items():
    if result['roi'] > 0:
        print(key)
        try:
            sum_accepted_bets += results[key]['amount']
            sum_win_bets += results[key]['win_bets']
            sum_coef += results[key]['amount'] * results[key]['coef']
        except KeyError:
            print('error ', key)

print(sum_accepted_bets)
percent = sum_win_bets / sum_accepted_bets
print(percent)
average_coef = sum_coef / sum_accepted_bets
print(average_coef)
print(
    {
        'roi': ((percent * average_coef - 1) * 100),
        'win_rate': percent,
        'average_win_coef': average_coef,
        'accepted_bets': sum_accepted_bets,
    }
)
